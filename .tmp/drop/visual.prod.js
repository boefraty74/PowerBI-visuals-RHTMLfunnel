var powerbi;!function(e){!function(e){!function(e){!function(e){function t(){r=0}function s(){return 0===r}function i(e,t){var s=[];if(e&&e.hasChildNodes()){for(var i=e.children,a=0;a<i.length;a++){var r=void 0;r="script"===i.item(a).nodeName.toLowerCase()?n(i.item(a)):i.item(a).cloneNode(!0),t.appendChild(r),s.push(r)}return s}}function n(e){for(var t=document.createElement("script"),s=e.attributes,i=0;i<s.length;i++)t.setAttribute(s[i].name,s[i].textContent),"src"===s[i].name.toLowerCase()&&(r++,t.onload=function(){r--});return t.innerHTML=e.innerHTML,t}function a(){var e=window.setInterval(function(){s()&&(window.clearInterval(e),window.hasOwnProperty("HTMLWidgets")&&window.HTMLWidgets.staticRender&&window.HTMLWidgets.staticRender())},100)}var r=0;e.ResetInjector=t,e.injectorReady=s,e.ParseElement=i,e.RunHTMLWidgetRenderer=a}(e.RHTML_FUNNEL_978302916642||(e.RHTML_FUNNEL_978302916642={}))}(e.visual||(e.visual={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(e){!function(e){!function(e){function t(e,t,s,i){if(e){var n=e[t];if(n){var a=n[s];if(void 0!==a)return a}}return i}function s(e,t,s,i,n){var a=e.objects;if(a){var r=a[t];if(r){var o=r[s];if(o){var l=o[i];if(void 0!==l)return l}}}return n}function i(e,t,s){return e<t?t:e>s?s:e}e.getValue=t,e.getCategoricalObjectValue=s,e.inMinMax=i}(e.RHTML_FUNNEL_978302916642||(e.RHTML_FUNNEL_978302916642={}))}(e.visual||(e.visual={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){!function(t){var s=[e.VisualUpdateType.Resize,e.VisualUpdateType.ResizeEnd,e.VisualUpdateType.Resize+e.VisualUpdateType.ResizeEnd],i=function(){function e(e){e&&e.element&&(this.rootElement=e.element),this.headNodes=[],this.bodyNodes=[],this.settings_funnel={lineColor:"blue",conf1:"0.95",conf2:"0.999"},this.settings_scatter={pointColor:"orange",weight:10,percentile:40,sparsify:!0},this.settings_axes={colLabel:"gray",textSize:12,scaleXformat:"comma",scaleYformat:"none",sizeTicks:"8",axisXisPercentage:!0}}return e.prototype.update=function(e){if(e&&e.type&&e.viewport){var t=e.dataViews;if(t&&0!==t.length){var i=t[0];if(i&&i.metadata){this.updateObjects(i.metadata.objects);var n=null;i.scriptResult&&i.scriptResult.payloadBase64&&(n=i.scriptResult.payloadBase64),-1===s.indexOf(e.type)&&n&&this.injectCodeFromPayload(n),this.onResizing(e.viewport)}}}},e.prototype.onResizing=function(e){},e.prototype.injectCodeFromPayload=function(e){if(t.ResetInjector(),e){var s=document.createElement("html");try{s.innerHTML=window.atob(e)}catch(e){return}if(0===this.headNodes.length){for(;this.headNodes.length>0;){var i=this.headNodes.pop();document.head.removeChild(i)}var n=s.getElementsByTagName("head");if(n&&n.length>0){var a=n[0];this.headNodes=t.ParseElement(a,document.head)}}for(;this.bodyNodes.length>0;){var i=this.bodyNodes.pop();this.rootElement.removeChild(i)}var r=s.getElementsByTagName("body");if(r&&r.length>0){var o=r[0];this.bodyNodes=t.ParseElement(o,this.rootElement)}t.RunHTMLWidgetRenderer()}},e.prototype.updateObjects=function(e){this.settings_funnel={lineColor:t.getValue(e,"settings_funnel_params","lineColor","blue"),conf1:t.getValue(e,"settings_funnel_params","conf1","0.95"),conf2:t.getValue(e,"settings_funnel_params","conf2","0.999")},this.settings_scatter={pointColor:t.getValue(e,"settings_scatter_params","pointColor","orange"),weight:t.getValue(e,"settings_scatter_params","weight",10),percentile:t.getValue(e,"settings_scatter_params","percentile",40),sparsify:t.getValue(e,"settings_scatter_params","sparsify",!0)},this.settings_axes={colLabel:t.getValue(e,"settings_axes_params","colLabel","gray"),textSize:t.getValue(e,"settings_axes_params","textSize",12),scaleXformat:t.getValue(e,"settings_axes_params","scaleXformat","comma"),scaleYformat:t.getValue(e,"settings_axes_params","scaleYformat","none"),sizeTicks:t.getValue(e,"settings_axes_params","sizeTicks","8"),axisXisPercentage:t.getValue(e,"settings_axes_params","axisXisPercentage",!0)}},e.prototype.enumerateObjectInstances=function(e){var s=e.objectName,i=[];switch(s){case"settings_funnel_params":i.push({objectName:s,properties:{lineColor:this.settings_funnel.lineColor,conf1:this.settings_funnel.conf1,conf2:this.settings_funnel.conf2},selector:null});break;case"settings_scatter_params":i.push({objectName:s,properties:{pointColor:this.settings_scatter.pointColor,weight:t.inMinMax(this.settings_scatter.weight,1,50),percentile:this.settings_scatter.percentile,sparsify:this.settings_scatter.sparsify},selector:null});break;case"settings_axes_params":i.push({objectName:s,properties:{colLabel:this.settings_axes.colLabel,textSize:this.settings_axes.textSize,sizeTicks:this.settings_axes.sizeTicks,scaleXformat:this.settings_axes.scaleXformat,axisXisPercentage:this.settings_axes.axisXisPercentage,scaleYformat:this.settings_axes.scaleYformat},selector:null})}return i},e}();t.Visual=i}(t.RHTML_FUNNEL_978302916642||(t.RHTML_FUNNEL_978302916642={}))}(t.visual||(t.visual={}))}(e.extensibility||(e.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(e){!function(t){!function(t){t.RHTML_FUNNEL_978302916642={name:"RHTML_FUNNEL_978302916642",displayName:"Funnel plot",class:"Visual",version:"1.0.0",apiVersion:"1.6.0",create:function(t){return new e.extensibility.visual.RHTML_FUNNEL_978302916642.Visual(t)},custom:!0}}(t.plugins||(t.plugins={}))}(e.visuals||(e.visuals={}))}(powerbi||(powerbi={}));